"use strict";(self.webpackChunk_weareseeed_react_square_payments_docs=self.webpackChunk_weareseeed_react_square_payments_docs||[]).push([[167],{9667:function(e,t,a){a.d(t,{Z:function(){return i}});var o=a(7294),n=a(133);function i(e){var t=e.children;return o.createElement(n.Z,{applicationId:"sandbox-sq0idb-7KE3zXHZLG_X5EmLLptTYw",cardTokenizeResponseReceived:function(e,t){console.info({token:e,buyer:t})},createPaymentRequest:function(){return{countryCode:"US",currencyCode:"USD",pickupContact:{addressLines:["123 Main St"],city:"San Francisco",countryCode:"US",email:"john@doe.com",familyName:"Doe",givenName:"John",phone:"4155555555",postalCode:"94107",state:"CA"},total:{amount:"100",label:"Total"}}},createVerificationDetails:function(){return{amount:"1.00",billingContact:{addressLines:["123 Main Street","Apartment 1"],familyName:"Doe",givenName:"John",countryCode:"GB",city:"London"},currencyCode:"GBP",intent:"CHARGE"}},locationId:"4P550BZQ0TQZA"},t)}},5032:function(e,t,a){a.r(t),a.d(t,{assets:function(){return g},contentTitle:function(){return u},default:function(){return m},frontMatter:function(){return c},metadata:function(){return d},toc:function(){return p}});var o=a(7462),n=a(3366),i=(a(7294),a(4137)),r=a(1166),s=a(9667),l=["components"],c={id:"google-pay-usage",title:"GooglePay - Basic Usage",slug:"/google-pay/usage",sidebar_label:"Usage",sidebar_position:1},u="Basic usage",d={unversionedId:"digital-wallets/google-pay/google-pay-usage",id:"digital-wallets/google-pay/google-pay-usage",title:"GooglePay - Basic Usage",description:"Google Pay supports taking payments via credit cards. Utilizing the PaymentRequest object, you can handle Shipping Option selection, as well as collect Shipping and Billing addresses.",source:"@site/docs/digital-wallets/google-pay/usage.mdx",sourceDirName:"digital-wallets/google-pay",slug:"/google-pay/usage",permalink:"/docs/google-pay/usage",draft:!1,editUrl:"https://github.com/weareseeed/rswps-site/tree/main/docs/digital-wallets/google-pay/usage.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"google-pay-usage",title:"GooglePay - Basic Usage",slug:"/google-pay/usage",sidebar_label:"Usage",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Usage",permalink:"/docs/apple-pay/usage"},next:{title:"Props",permalink:"/docs/google-pay/props"}},g={},p=[],y={toc:p};function m(e){var t=e.components,a=(0,n.Z)(e,l);return(0,i.kt)("wrapper",(0,o.Z)({},y,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"basic-usage"},"Basic usage"),(0,i.kt)("p",null,"Google Pay supports taking payments via credit cards. Utilizing the PaymentRequest object, you can handle Shipping Option selection, as well as collect Shipping and Billing addresses."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import { GooglePay, PaymentForm } from 'react-square-web-payments-sdk';\n\nexport default function MyApp() {\n  return (\n    <PaymentForm>\n      <GooglePay />\n    </PaymentForm>\n  );\n}\n")),(0,i.kt)("p",null,"Different variations of the Google Pay component are available:"),(0,i.kt)(s.Z,{mdxType:"PaymentForm"},(0,i.kt)(r.Z,{mdxType:"GooglePay"})))}m.isMDXComponent=!0},1166:function(e,t,a){a.d(t,{Z:function(){return c}});var o=a(7294),n=a(3200),i=a(9227),r=a(8152);const s=(0,r.F)({"0%, 100%":{opacity:1},"50%":{opacity:.5}}),l=(0,r.z)("div",{animation:`${s()} 2s cubic-bezier(0.4, 0, 0.6, 1) infinite`,background:"#F3F4F6",borderRadius:4,height:40}),c=({buttonColor:e,buttonSizeMode:t="fill",buttonType:a="long",id:r="rswps-google-pay-container",...s})=>{const[c,u]=o.useState((()=>{})),{cardTokenizeResponseReceived:d,createPaymentRequest:g,payments:p}=(0,n.cI)(),y=o.useRef(null),m=o.useMemo((()=>{const o={buttonColor:e,buttonSizeMode:t,buttonType:a};return Object.keys(o).reduce(((e,t)=>(void 0!==o[t]&&(e[t]=o[t]),e)),{})}),[e,t,a]);return o.useEffect((()=>{if(!g)throw new Error("`createPaymentRequest()` is required when using digital wallets");const e=new AbortController,{signal:t}=e;return(async e=>{const t=p?.paymentRequest(g);if(!t)throw new Error("`paymentRequest` is required when using digital wallets");try{const a=await(p?.googlePay(t).then((t=>{if(!e?.aborted)return u(t),t})));await(a?.attach(`#${r}`,m)),e.aborted&&await(a?.destroy())}catch(a){console.error("Initializing Google Pay failed",a)}})(t),()=>{e.abort()}}),[g,p,m]),(0,i.O)({listener:async e=>{if(e.stopPropagation(),c)try{const e=await c.tokenize();if("OK"===e.status)return d(e);let t=`Tokenization failed with status: ${e.status}`;if(e?.errors)throw t+=` and errors: ${JSON.stringify(e?.errors)}`,new Error(t);console.warn(t)}catch(t){console.error(t)}else console.warn("Google Pay button was clicked, but no Google Pay instance was found.")},type:"click",element:y,options:{passive:!0}}),o.createElement("div",{...s,id:r,ref:y},c?null:o.createElement(l,null))}}}]);
"use strict";(self.webpackChunk_weareseeed_react_square_payments_docs=self.webpackChunk_weareseeed_react_square_payments_docs||[]).push([[167],{5032:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return u},metadata:function(){return g},toc:function(){return d}});var o=a(7462),n=a(3366),s=(a(7294),a(4137)),i=a(1166),r=a(9477),l=["components"],u={id:"google-pay-usage",title:"GooglePay - Basic Usage",slug:"/google-pay/usage",sidebar_label:"Usage",sidebar_position:1},c="Basic usage",g={unversionedId:"digital-wallets/google-pay/google-pay-usage",id:"digital-wallets/google-pay/google-pay-usage",title:"GooglePay - Basic Usage",description:"Google Pay supports taking payments via credit cards. Utilizing the PaymentRequest object, you can handle Shipping Option selection, as well as collect Shipping and Billing addresses.",source:"@site/docs/digital-wallets/google-pay/usage.mdx",sourceDirName:"digital-wallets/google-pay",slug:"/google-pay/usage",permalink:"/docs/google-pay/usage",draft:!1,editUrl:"https://github.com/weareseeed/rswps-site/tree/main/docs/digital-wallets/google-pay/usage.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"google-pay-usage",title:"GooglePay - Basic Usage",slug:"/google-pay/usage",sidebar_label:"Usage",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Usage",permalink:"/docs/apple-pay/usage"},next:{title:"Props",permalink:"/docs/google-pay/props"}},p={},d=[],y={toc:d};function m(e){var t=e.components,a=(0,n.Z)(e,l);return(0,s.kt)("wrapper",(0,o.Z)({},y,a,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"basic-usage"},"Basic usage"),(0,s.kt)("p",null,"Google Pay supports taking payments via credit cards. Utilizing the PaymentRequest object, you can handle Shipping Option selection, as well as collect Shipping and Billing addresses."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-tsx"},"import { GooglePay, PaymentForm } from 'react-square-web-payments-sdk';\n\nexport default function MyApp() {\n  return (\n    <PaymentForm>\n      <GooglePay />\n    </PaymentForm>\n  );\n}\n")),(0,s.kt)("p",null,"Different variations of the Google Pay component are available:"),(0,s.kt)(r.Z,{mdxType:"PaymentForm"},(0,s.kt)(i.Z,{mdxType:"GooglePay"})))}m.isMDXComponent=!0},1166:function(e,t,a){a.d(t,{Z:function(){return u}});var o=a(7294),n=a(3200),s=a(9227),i=a(8152);const r=(0,i.F)({"0%, 100%":{opacity:1},"50%":{opacity:.5}}),l=(0,i.z)("div",{animation:`${r()} 2s cubic-bezier(0.4, 0, 0.6, 1) infinite`,background:"#F3F4F6",borderRadius:4,height:40}),u=({buttonColor:e,buttonSizeMode:t="fill",buttonType:a="long",id:i="rswps-google-pay-container",...r})=>{const[u,c]=o.useState((()=>{})),{cardTokenizeResponseReceived:g,createPaymentRequest:p,payments:d}=(0,n.cI)(),y=o.useRef(null),m=o.useMemo((()=>{const o={buttonColor:e,buttonSizeMode:t,buttonType:a};return Object.keys(o).reduce(((e,t)=>(void 0!==o[t]&&(e[t]=o[t]),e)),{})}),[e,t,a]);return o.useEffect((()=>{if(!p)throw new Error("`createPaymentRequest()` is required when using digital wallets");const e=new AbortController,{signal:t}=e;return(async e=>{const t=d?.paymentRequest(p);if(!t)throw new Error("`paymentRequest` is required when using digital wallets");try{const a=await(d?.googlePay(t).then((t=>{if(!e?.aborted)return c(t),t})));await(a?.attach(`#${i}`,m)),e.aborted&&await(a?.destroy())}catch(a){console.error("Initializing Google Pay failed",a)}})(t),()=>{e.abort()}}),[p,d,m]),(0,s.O)({listener:async e=>{if(e.stopPropagation(),u)try{const e=await u.tokenize();if("OK"===e.status)return g(e);let t=`Tokenization failed with status: ${e.status}`;if(e?.errors)throw t+=` and errors: ${JSON.stringify(e?.errors)}`,new Error(t);console.warn(t)}catch(t){console.error(t)}else console.warn("Google Pay button was clicked, but no Google Pay instance was found.")},type:"click",element:y,options:{passive:!0}}),o.createElement("div",{...r,id:i,ref:y},u?null:o.createElement(l,null))}}}]);